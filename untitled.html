<!doctype html>
<html lang="it">
<head>
<meta charset=UTF-8>
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"name=viewport>
<title>chiomaoin</title>
<link href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23EEEEEE'/></svg>"rel=icon>
<link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css rel=stylesheet>
<script>window.location.pathname.includes("untitled.html")&&window.history.replaceState({},"","/")</script>
<style>
    /* Aggiungi questa regola */
    .hidden-page {
        display: none !important;
    }
    
    /* Resto dello stile esistente */
    * {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    img {
        -webkit-user-drag: none;
        -khtml-user-drag: none;
        -moz-user-drag: none;
        -o-user-drag: none;
        user-drag: none;
        pointer-events: none;
    }
    body, html {
        overflow: hidden;
        height: 100%;
        margin: 0;
        padding: 0;
        position: fixed;
        width: 100%;
        font-family: Arial, sans-serif;
        background-color: #eee;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
    }
    .mobile-content {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        position: relative;
    }
    .linee-container {
        position: fixed;
        right: 20px;
        top: 20px;
        cursor: pointer;
        z-index: 20;
        -webkit-tap-highlight-color: transparent;
        outline: 0;
    }
    .linea {
        width: 30px;
        height: 2px;
        background-color: #000;
        margin-bottom: 10px;
        transform-origin: center;
        transition: transform .3s ease-in-out;
    }
    .barra-piena {
        position: fixed;
        top: 0;
        right: calc(-1 * var(--larghezza-barra,80%));
        width: var(--larghezza-barra,80%);
        height: 100vh;
        background-color: #eee;
        transition: right .5s ease-in-out;
        z-index: 15;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .barra-piena.visibile {
        right: 0;
    }
    .sidebar-header {
        position: absolute;
        top: 20px;
        left: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .testo-home {
        font-size: 3rem;
        font-weight: 700;
        text-transform: uppercase;
        color: #000;
        margin-bottom: 40px;
        text-decoration: none;
    }
    .testo-centrato {
        font-size: 3rem;
        font-weight: 700;
        text-transform: lowercase;
        color: #3f3f3f;
        position: relative;
        margin-bottom: 40px;
        text-decoration: none;
        cursor: pointer;
    }
    .testo-centrato::after {
        content: '';
        display: block;
        width: 100%;
        height: 2px;
        background-color: #3f3f3f;
        position: absolute;
        bottom: -10px;
        left: 0;
    }
    .sfondo-oscuro {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background-color: rgba(203,203,203,.8);
        z-index: 10;
        opacity: 0;
        transition: opacity .5s ease-in-out;
        pointer-events: none;
    }
    .sfondo-oscuro.visibile {
        opacity: 1;
        pointer-events: auto;
    }
    .image-container {
        display: block;
        width: 80vw;
        max-width: 300px;
        margin: 0 auto;
        cursor: pointer;
    }
    .image-centrale {
        width: 100%;
        height: auto;
        display: block;
    }
    .filigrana {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 1rem;
        color: rgba(0,0,0,.5);
        z-index: 5;
        pointer-events: none;
    }
    .social-icons {
        position: fixed;
        bottom: 60px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 20px;
        z-index: 5;
    }
    .social-icon {
        font-size: 2rem;
        color: #000;
        text-decoration: none;
    }
    .data-container {
        position: fixed;
        top: 20px;
        left: 20px;
        font-size: 1rem;
        color: #000;
        z-index: 20;
        font-family: monospace;
        text-transform: uppercase;
        cursor: pointer;
        text-decoration: none;
    }
    
    @media (min-width:768px) {
        .linee-container {
            display: none;
        }
        .barra-piena {
            right: 0;
            width: auto;
            background: none;
            align-items: flex-end;
            padding-right: 40px;
        }
        .testo-centrato,
        .testo-home {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        .testo-centrato::after {
            height: 1px;
            bottom: -5px;
        }
        .sfondo-oscuro {
            display: none;
        }
    }
</style>
</head>
<body>
<a class="data-container" href="https://it.wikipedia.org/wiki/Calendario_rivoluzionario_francese" id="today-date"></a>

<div class="mobile-content">
    <a class="image-container" href="https://untitled.stream/library/project/PzWiYtA83q22xIX72O8xQ">
        <img alt="Immagine centrale" class="image-centrale" src="https://files.catbox.moe/fcirxu.png">
    </a>
    
    <div class="linee-container" tabindex="0">
        <div class="linea"></div>
        <div class="linea"></div>
    </div>
    
    <div class="sfondo-oscuro"></div>
    
    <div class="barra-piena">
        <div class="sidebar-header"></div>
        <span class="testo-home switch-page">HOME</span> 
        <span class="testo-centrato">[untitled]</span>
    </div>
</div>

<div class="social-icons">
    <a class="social-icon" href="https://open.spotify.com/user/31gms4uvuxayraivbxo4tttpasmm" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-spotify"></i>
    </a>
    <a class="social-icon" href="https://github.com/chiomaoin?tab=repositories" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-github"></i>
    </a>
    <a class="social-icon" href="https://psnprofiles.com/DantetiKa" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-playstation"></i>
    </a>
</div>

<div class="filigrana">© 2025 Luca Dante</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<script>
    // Funzione per caricare e gestire le pagine
    function setupPageSwitching() {
        const body = document.body;
        const currentPage = document.createElement('div');
        currentPage.className = 'current-page';
        currentPage.innerHTML = body.innerHTML;
        body.innerHTML = '';
        body.appendChild(currentPage);

        // Gestione del click sul link
        document.querySelector('.switch-page').addEventListener('click', function() {
            const otherPageUrl = this.textContent.trim() === 'HOME' ? 'index.html' : 'untitled.html';
            
            fetch(otherPageUrl)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const otherPageContent = doc.querySelector('body').innerHTML;
                    
                    const otherPage = document.createElement('div');
                    otherPage.className = 'other-page hidden-page';
                    otherPage.innerHTML = otherPageContent;
                    body.appendChild(otherPage);
                    
                    // Animazione di transizione
                    gsap.to(currentPage, { opacity: 0, duration: 0.3, onComplete: function() {
                        currentPage.classList.add('hidden-page');
                        otherPage.classList.remove('hidden-page');
                        gsap.fromTo(otherPage, { opacity: 0 }, { opacity: 1, duration: 0.3 });
                        
                        // Aggiorna lo stato della pagina
                        document.querySelectorAll('.switch-page').forEach(el => {
                            el.addEventListener('click', function() {
                                setupPageSwitching();
                            });
                        });
                    }});
                })
                .catch(error => console.error('Error loading page:', error));
        });
    }

    // Blocco selezione testo e immagini
    document.addEventListener('selectstart', function(e) { 
        e.preventDefault(); 
    });
    document.querySelectorAll('img').forEach(img => { 
        img.ondragstart = () => false; 
    });

    // Funzioni per il calendario rivoluzionario francese
    function convertToFrenchRepublican(date) {
        const epochStart = new Date(1792, 8, 22);
        const currentYearStart = new Date(date.getFullYear(), 8, 22);
        
        let republicanYear = date.getFullYear() - 1792;
        if (date < currentYearStart) republicanYear--;
        
        const yearStart = date >= currentYearStart ? currentYearStart : new Date(date.getFullYear() - 1, 8, 22);
        const dayOfYear = Math.floor((date - yearStart) / (1000 * 60 * 60 * 24)) + 1;
        
        const months = ["Vendémiaire", "Brumaire", "Frimaire", "Nivôse", "Pluviôse", "Ventôse", 
                       "Germinal", "Floréal", "Prairial", "Messidor", "Thermidor", "Fructidor"];
        const decadeDays = ["Primidi", "Duodi", "Tridi", "Quartidi", "Quintidi", 
                          "Sextidi", "Septidi", "Octidi", "Nonidi", "Décadi"];
        
        if (dayOfYear <= 360) {
            const monthIndex = Math.floor((dayOfYear - 1) / 30);
            const dayInMonth = (dayOfYear - 1) % 30 + 1;
            return {
                dayName: decadeDays[(dayInMonth - 1) % 10],
                day: dayInMonth,
                month: months[monthIndex],
                year: republicanYear
            };
        } else {
            return {
                dayName: decadeDays[(dayOfYear - 361) % 10],
                day: dayOfYear - 360,
                month: "Jours Complémentaires",
                year: republicanYear
            };
        }
    }

    function formatRevolutionaryDate() {
        const repDate = convertToFrenchRepublican(new Date());
        return `${repDate.dayName} ${repDate.day} ${repDate.month} An ${repDate.year}`;
    }

    // Regolazione larghezza sidebar
    function regolaLarghezzaBarra(percentuale) {
        if (percentuale < 0 || percentuale > 100) {
            console.error("La percentuale deve essere compresa tra 0 e 100.");
            return;
        }
        document.documentElement.style.setProperty('--larghezza-barra', `${percentuale}%`);
    }

    regolaLarghezzaBarra(80);

    // Aggiornamento data
    function updateDate() {
        document.getElementById('today-date').textContent = formatRevolutionaryDate();
    }

    // Gestione menu mobile
    if (window.innerWidth < 768) {
        const lineeContainer = document.querySelector('.linee-container');
        const sfondoOscuro = document.querySelector('.sfondo-oscuro');
        const barraPiena = document.querySelector('.barra-piena');
        const linee = document.querySelectorAll('.linea');
        let isOpen = false;
        let isAnimating = false;

        lineeContainer.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;
            isOpen = !isOpen;

            if (isOpen) {
                sfondoOscuro.classList.add('visibile');
                barraPiena.classList.add('visibile');
                gsap.to(linee[0], { rotation: 45, y: 6, duration: 0.15 });
                gsap.to(linee[1], { rotation: -45, y: -6, duration: 0.15 });
                
                setTimeout(() => {
                    isAnimating = false;
                }, 300);
            } else {
                sfondoOscuro.classList.remove('visibile');
                barraPiena.classList.remove('visibile');
                gsap.to(linee, { rotation: 0, y: 0, duration: 0.15, onComplete: () => isAnimating = false });
            }
        });

        sfondoOscuro.addEventListener('click', () => {
            if (!isOpen || isAnimating) return;
            isAnimating = true;
            sfondoOscuro.classList.remove('visibile');
            barraPiena.classList.remove('visibile');
            isOpen = false;
            gsap.to(linee, { rotation: 0, y: 0, duration: 0.3, onComplete: () => isAnimating = false });
        });
    }

    // Blocco scroll mobile
    document.addEventListener('touchmove', function (event) {
        event.preventDefault();
    }, { passive: false });

    // Inizializzazione
    window.onload = function() {
        updateDate();
        setInterval(updateDate, 60000);
        
        // Inizializza il sistema di switch tra pagine
        setupPageSwitching();
    };
</script>
</body>
</html>
